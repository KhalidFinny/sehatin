<!-- prettier-ignore -->
<aside class="fixed top-0 left-0 z-50 h-screen w-64 bg-white">
  <section class="bg-primary flex items-center space-x-3 px-6 py-8">
    <div class="flex h-11 w-11 items-center justify-center rounded-lg bg-white">
      <h5 class="text-primary text-base font-semibold">
        {{ getCurrentConfig().userInitial }}
      </h5>
    </div>
    <div>
      <h5 class="text-sm font-medium text-white">
        {{ getCurrentConfig().userName }}
      </h5>
      <h6 class="mt-0.5 text-xs text-white opacity-80">
        {{ getCurrentConfig().userEmail }}
      </h6>
    </div>
  </section>
  <section class="flex justify-center border-b border-gray-50 px-6 py-6">
    <img src="/images/sehatin.svg" alt="Sehatin Logo" class="h-auto w-32" />
  </section>
  <section class="px-4 pb-6">
    <nav class="relative space-y-1">
      <!-- Menu Items -->
      <div *ngFor="let item of menuItems">
        <div class="relative"
             (mouseenter)="onMenuHover(item)"
             (mouseleave)="onMenuLeave()">
          <a href="#"
             class="flex items-center px-4 py-3 text-gray-600 hover:text-primary hover:bg-gray-50 rounded-lg transition-all duration-200 group relative"
             (click)="onMenuClick(item)">
            <div class="absolute left-0 top-0 bottom-0 w-1 bg-primary opacity-0 group-hover:opacity-40 rounded-r-full transition-opacity duration-200"></div>
            <i [class]="item.icon + ' text-sm mr-3'"></i>
            <span class="font-medium text-sm">{{ item.label }}</span>
            <span *ngIf="item.subMenu" class="ml-auto">
              <i class="fas" [ngClass]="openSubMenuId === item.id ? 'fa-caret-up' : 'fa-caret-down'"></i>
            </span>
            <div class="absolute right-3 w-1 h-1 bg-primary rounded-full opacity-0 group-hover:opacity-60 transition-opacity duration-200"></div>
          </a>
          <div *ngIf="item.subMenu && openSubMenuId === item.id"
               class="ml-8 mt-1 space-y-1 submenu-fadein">
            <a *ngFor="let sub of item.subMenu"
               href="#"
               class="flex items-center px-3 py-2 text-gray-500 hover:text-primary hover:bg-gray-100 rounded transition-all duration-200 text-sm"
               (click)="onMenuClick(sub)">
              <i [class]="sub.icon + ' text-xs mr-2'"></i>
              <span>{{ sub.label }}</span>
            </a>
          </div>
        </div>
      </div>

      <!-- spacer -->
      <div class="py-4">
        <div class="flex items-center">
          <div class="w-3 h-px bg-gray-200"></div>
          <div class="flex-1 mx-3 h-px bg-gray-100"></div>
          <div class="w-3 h-px bg-gray-200"></div>
        </div>
      </div>

      <!-- Logout -->
      <a href="#"
         class="flex items-center px-4 py-3 text-gray-500 hover:text-secondary hover:bg-red-50 rounded-lg transition-all duration-200 group relative"
         (click)="onLogout()">
        <div class="absolute left-0 top-0 bottom-0 w-1 bg-secondary opacity-0 group-hover:opacity-40 rounded-r-full transition-opacity duration-200"></div>
        <i class="fas fa-sign-out-alt text-sm mr-3"></i>
        <span class="font-medium text-sm">Keluar</span>
      </a>
    </nav>
  </section>
</aside>
<div class="bg-opacity-20 sidebar-overlay fixed inset-0 z-40 hidden bg-black" (click)="closeSidebar()"></div>
